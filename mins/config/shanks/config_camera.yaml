%YAML:1.0

cam:
  enabled: true
  max_n: 2
  use_stereo: true
  stereo_pair: [0, 1]
  do_calib_ext: false
  do_calib_int: false
  do_calib_dt: false
  n_pts: 1900
  fast: 2
  grid_x: 5
  grid_y: 5
  min_px_dist: 10
  knn: 0.7
  downsample: true
  histogram_method: "HISTOGRAM" # NONE, HISTOGRAM, CLAHE
  max_slam: 0
  max_msckf: 90
  feat_rep: "GLOBAL_FULL_INVERSE_DEPTH"
  init_cov_dt: 1e-4
  init_cov_ex_o: 1e-4
  init_cov_ex_p: 1e-4
  init_cov_in_k: 1e-3
  init_cov_in_c: 1e-3
  init_cov_in_r: 1e-3
  sigma_px: 2
  chi2_mult: 1

  # feature related
  fi_min_dist: 0.5
  fi_max_dist: 150
  fi_max_baseline: 6000
  fi_max_cond_number: 10000

# ==================================================================
# ==================================================================

cam0:
  timeoffset: 0.0102  # Slightly reduce for better synchronization
  T_imu_cam:
    - [-0.004319018701418653, 0.9999904276147462, -0.0007005400302754278, -0.010920019661957297]
    - [-0.9999885992544466, -0.004320435379673804, -0.002033518935252497, 0.04855658038466249]
    - [-0.0020365261075575075, 0.0006917492372857481, 0.9999976870195282, 0.004715537321307518]
    - [0.0, 0.0, 0.0, 1.0]
    # - [-0.007761805563794688, 0.99994829052482, -0.006570437647551022, -0.01063034]
    # - [-0.9998617724361787, -0.007664185230985332, 0.014754534405699541, 0.05896046]
    # - [0.014703414405289425, 0.0066840512592031154, 0.999869558024241, 0.03782948]
    # - [0.0, 0.0, 0.0, 1.0]
  distortion_coeffs: [0.0785, -0.2383, 0, -0.0038]
  distortion_model: radtan
  intrinsics: [401.71, 402.54, 326.12, 209.01]
  resolution: [640, 400]
  topic: "/left/image_rect"

cam1:
  timeoffset: 0.01024  # Align time offset with camera 0
  T_imu_cam:
    - [-0.00437776749648483, 0.9999903701524201, 0.00030782165694069564, -0.01102476665532663]
    - [-0.9999798283988005, -0.004376304324740177, -0.004603341825522695, -0.027164729288706915]
    - [-0.004601950374794038, -0.00032796780790397394, 0.9999893571882976, 0.003149443308917092]
    - [0.0, 0.0, 0.0, 1.0]
    # - [-0.0074757030811907765, 0.9999426404990135, -0.007670044022211801, -0.01113767]
    # - [-0.9998459022778627, -0.00735270612853528, 0.015940809601581174, -0.01626193]
    # - [0.015883499665008856, 0.007788030845354505, 0.9998435182637049, 0.03816198]
    # - [0.0, 0.0, 0.0, 1.0]
  distortion_coeffs: [0.0444, -0.1335, 0, -0.0015]
  distortion_model: radtan
  intrinsics: [402.88, 404.02, 327.13, 209.14]
  resolution: [640, 400]
  topic: "/right/image_rect"